<main class="main-content-area">
  <div class="perfil-container" style="max-width:440px; margin:40px auto 0 auto; background:#fff; border-radius:18px; box-shadow:0 4px 24px rgba(42,63,102,0.13); padding:40px 36px 28px 36px; border:2.5px solid #3b5998;">
    <div style="display:flex; flex-direction:column; align-items:center;">
      <div style="background:#eaf0fa; border-radius:50%; width:92px; height:92px; display:flex; align-items:center; justify-content:center; margin-bottom:18px; box-shadow:0 2px 10px rgba(42,63,102,0.09); position:relative; overflow:hidden;">
        {{#if usuario.foto}}
          <img src="{{usuario.foto}}" alt="Foto de perfil" style="width:100%; height:100%; object-fit:cover; border-radius:50%;">
        {{else}}
          <span style="font-size:2.5em; color:#3b5998; font-weight:700;">{{usuario.username.[0]}}</span>
        {{/if}}
        <form action="/perfil/foto" method="POST" enctype="multipart/form-data" style="position:absolute; bottom:0; right:0;">
          <label for="foto-input" style="background:#3b5998; color:#fff; border-radius:50%; width:28px; height:28px; display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:1.1em; border:2px solid #fff; box-shadow:0 1px 4px rgba(42,63,102,0.13);">
            <span title="Cambiar foto">&#9998;</span>
            <input id="foto-input" name="foto" type="file" accept="image/*" style="display:none;" onchange="this.form.submit()">
          </label>
        </form>
      </div>
      <h2 style="color:#3b5998; margin-bottom:8px; text-align:center; font-size:2em; letter-spacing:0.5px;">{{usuario.username}}</h2>
      <div style="color:#6a89cc; font-size:1.08em; margin-bottom:18px;">
        {{capitalize usuario.role}}
      </div>
    </div>
    <div style="font-size:1.08em; margin-bottom:22px; text-align:center;">
      <div style="margin-bottom:7px;"><b>Email:</b> <span style="color:#3b5998;">{{usuario.email}}</span></div>
    </div>
    <div style="margin-bottom:28px;">
      <h3 style="color:#3b5998; font-size:1.13em; margin-bottom:12px; font-weight:700; text-align:center;">Asignaturas inscritas</h3>
      {{#if usuario.asignaturas}}
        <ul style="list-style:none; padding:0; margin:0;">
          {{#each usuario.asignaturas}}
            <li style="background:linear-gradient(90deg,#eaf0fa 60%,#f7f9fc 100%); margin-bottom:10px; border-radius:8px; padding:12px 18px; font-weight:600; color:#3b5998; box-shadow:0 1px 6px rgba(42,63,102,0.07); display:flex; align-items:center; justify-content:space-between;">
              <span>{{nombre}}</span>
              <span style="color:#6a89cc; font-weight:500; font-size:0.98em;">{{codigo}}</span>
            </li>
          {{/each}}
        </ul>
      {{else}}
        <div style="color:#b0b0b0; text-align:center;">No tienes asignaturas inscritas.</div>
      {{/if}}
    </div>
    <div style="margin-top:18px; text-align:center;">
      <a href="/perfil/editar" class="btn-editar">Editar Perfil</a>
      <a href="/auth/logout" class="btn-logout">Cerrar sesi√≥n</a>
    </div>
  </div>
</main>
<style>
  .perfil-container {
    animation: fadeInPerfil 0.3s;
    background: #fff;
    border: 2.5px solid #3b5998;
    border-radius: 18px;
    box-shadow: 0 4px 24px rgba(42,63,102,0.13);
  }
  .btn-editar, .btn-logout {
    display:inline-block; margin:8px 8px 0 0; padding:10px 22px; border-radius:8px; text-decoration:none; font-weight:600; font-size:1.07em; transition:background 0.18s, color 0.18s;
  }
  .btn-editar { background:#3b5998; color:#fff; }
  .btn-editar:hover { background:#6a89cc; }
  .btn-logout { background:#eaf0fa; color:#3b5998; border:1.5px solid #3b5998; }
  .btn-logout:hover { background:#3b5998; color:#fff; }
  @keyframes fadeInPerfil {
    from { opacity: 0; transform: translateY(30px);}
    to { opacity: 1; transform: translateY(0);}
  }
</style>